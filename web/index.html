<!DOCTYPE html>
<html lang="sv">

  <head>
    <link href="https://fonts.googleapis.com/css?family=Marcellus|Marcellus+SC|Raleway" rel="stylesheet">
    <link href="style.css" rel="stylesheet">
    <link rel="icon" type="image/png" sizes="32x32" href="icon.png">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta charset="UTF-8">
    <title>Nilssons Växthus</title>
  </head>

  <body>
    <div class="top_corner"></div>
    <header>Nilssons Växthus</header>
    <div class="top_corner"></div>
    <div class="main">
      <h1>Historik</h1>
      <script src="app.js" defer></script>
      <div class="chart_container">
        <canvas id="mainCanvas"></canvas>
      </div>
      <a href="/data.json" style="text-decoration: none" download>
        <button id="download_btn" type="submit" style="margin: 1em">Ladda ner insamlad data</button>
      </a>
    </div>
    <div class="side">
      <h1>Status</h1>
      <div style="padding: 0 10%">
        <canvas id="gaugeCanvas"></canvas>
      </div>
      <table>
        <colgroup>
          <col>
          <col>
        </colgroup>
        <tr>
          <td>Tid</td>
          <td>{datetime}</td>
        </tr>
        <tr>
          <td>Lufttemperatur [&deg;C]</td>
          <td>{temperature}</td>
        </tr>
        <tr>
          <td>Fuktighet [%]</td>
          <td id="moisture_string">{moisture}</td>
        </tr>
        <tr>
          <td>Gräns för torka [%]</td>
          <td id="dry_string">{dry_threshold}</td>
        </tr>
        <tr>
          <td>Gräns för fuktighet [%]</td>
          <td id="wet_string">{wet_threshold}</td>
        </tr>
        <tr>
          <td>Bevattning</td>
          <td>{water_setting}</td>
        </tr>
        <tr>
          <td>Ventil</td>
          <td>{valve_open}</td>
        </tr>
      </table>
      <p id="weather">Utomhusväder</p>
      <h1>Bevattningsinställning</h1>
      <form>
        <button id="auto_btn" type="submit" formmethod="post" formaction="./water=auto"> Auto </button>
        <button id="on_btn" type="submit" formmethod="post" formaction="./water=on"> På </button>
        <button id="off_btn"  type="submit" formmethod="post" formaction="./water=off"> Av </button>
      </form>
    </div>
    <footer>
      <p>
        Källkod och mer information:
        <a href="https://github.com/axel-nils/pico-autowater">GitHub repo</a>
      </p>
    </footer>
  </body>

</html>
